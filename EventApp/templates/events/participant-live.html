{% extends 'base/base.html' %}
{% load static %}
{% block title %}Live Participants{% endblock %}
{% block css %}
    <link href="{% static 'events/css/campaign.css' %}" rel="stylesheet">
    <style>
        .table {
            margin-left: 0;
        }

        td {
            width: 500px;
        }
    </style>
{% endblock %}

{% block body %}

    <div id="event">
        {% for d in domains %}
        <br>
        {{ d.name }}
        <br>
        {% for e in d.event %}
        {{ e.name }} = {{ e.count }}
        <br>
        {% endfor %}
        <br>
        {{ d.count }}
        {% endfor %}

    </div>
    {% block scripts %}
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script>
            setInterval(function () {
                $.ajax({
                    type: "GET",
                    url: "/participant-live",  // URL to your view that serves new info
                })
                    .done(function (response) {
                        $('#event').html(response);
                    });
            }, 10000)
        </script>
    {% endblock %}
{% endblock %}

